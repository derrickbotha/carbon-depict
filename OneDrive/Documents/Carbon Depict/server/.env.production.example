# Production Environment Configuration Template
# Copy this to .env.production and update with your production values

# ==========================================
# SERVER CONFIGURATION
# ==========================================
PORT=5500
NODE_ENV=production
CLIENT_URL=https://your-domain.com

# ==========================================
# DATABASE - MONGODB (Primary)
# ==========================================
# MongoDB Atlas recommended for production
# Connection string format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/carbondepict_prod?retryWrites=true&w=majority

# MongoDB connection pool settings (optional, defaults shown)
# MONGODB_POOL_SIZE=10
# MONGODB_MAX_POOL_SIZE=50
# MONGODB_CONNECT_TIMEOUT_MS=10000
# MONGODB_SOCKET_TIMEOUT_MS=45000

# ==========================================
# REDIS (Optional - for job queues)
# ==========================================
# Set REDIS_ENABLED=true for production to enable background job processing
# Use Redis Cloud, AWS ElastiCache, or self-hosted Redis
REDIS_ENABLED=true
REDIS_HOST=your-redis-host.cloud.redislabs.com
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_TLS=true

# ==========================================
# SECURITY & AUTHENTICATION
# ==========================================
# Generate strong secrets: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=REPLACE_WITH_STRONG_64_CHAR_SECRET_KEY_FROM_CRYPTO_RANDOM_BYTES
JWT_EXPIRE=7d
SESSION_SECRET=REPLACE_WITH_STRONG_64_CHAR_SESSION_SECRET_FROM_CRYPTO_RANDOM_BYTES

# ==========================================
# EMAIL CONFIGURATION (SMTP)
# ==========================================
# Production SMTP service (SendGrid, AWS SES, etc.)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your-sendgrid-api-key
SMTP_FROM=noreply@your-domain.com
SMTP_FROM_NAME=Carbon Depict

# ==========================================
# AI SERVICE
# ==========================================
# Grok API or OpenAI
AI_API_KEY=your-production-ai-api-key
AI_API_URL=https://api.x.ai/v1

# ==========================================
# CORS & SECURITY
# ==========================================
# Comma-separated list of allowed origins
CORS_ORIGIN=https://your-domain.com,https://www.your-domain.com
ALLOWED_HOSTS=your-domain.com,www.your-domain.com

# ==========================================
# RATE LIMITING
# ==========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==========================================
# LOGGING & MONITORING
# ==========================================
LOG_LEVEL=info
LOG_FORMAT=json
# Optional: Sentry, LogRocket, etc.
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ==========================================
# FILE UPLOADS
# ==========================================
# AWS S3 or other cloud storage
# UPLOAD_PROVIDER=s3
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=carbondepict-uploads

# ==========================================
# FEATURES
# ==========================================
ENABLE_AI_FEATURES=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_BACKGROUND_JOBS=true

# ==========================================
# PERFORMANCE
# ==========================================
# Worker processes for clustering (optional)
# WEB_CONCURRENCY=4

# ==========================================
# BACKUP & DISASTER RECOVERY
# ==========================================
# MongoDB backup settings
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=30
